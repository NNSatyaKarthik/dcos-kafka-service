{
    "type": "object",
    "properties": {
        "kafka": {
            "description": "Kafka framework configuration properties",
            "type": "object",
            "additionalProperties": false,

            "properties": {
                "app": {
                    "description": "Marathon app configuration properties",
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "cpus": {
                            "description": "cpu requirements",
                            "type": "number",
                            "default": 1.0
                        },
                        "mem": {
                            "description": "mem requirements (this should be approximately 120% of the heap size).",
                            "type": "integer",
                            "default": 1230
                        },
                        "heap-mb": {
                            "description": "Heap size for scheduler JVM, in MiB",
                            "type": "integer",
                            "default": 1024
                        },
                        "instances": {
                            "description": "app instances",
                            "type": "integer",
                            "default": 1
                        }
                    },
                    "required": ["cpus", "mem", "instances", "heap-mb"]
                },
                "framework-name": {
                    "type": "string",
                    "description": "Mesos Framework Name",
                    "default": "kafka0"
                },
                "user": {
                    "type": "string",
                    "description": "Mesos user to run tasks",
                    "default": ""
                },
                "secret": {
                    "type": "string",
                    "description": "Mesos secret (password)",
                    "default": ""
                },
                "ld-library-path": {
                  "desription": "Library path",
                  "type": "string",
                  "default": "/opt/mesosphere/lib"
                },
                "broker-count": {
                  "description": "Broker count",
                  "type": "integer",
                  "default": 3
                },
                "version_name": {
                  "description": "Kafka version name",
                  "type": "string",
                  "default": "kafka_2.10-0.8.2.2"
                },
                "cpus": {
                  "description": "Broker cpu requirements",
                  "type": "number",
                  "default": 1.0 
                },
                "mem": {
                  "description": "Broker mem requirements",
                  "type": "integer",
                  "default": 2048 
                },
                "disk": {
                  "description": "Broker disk requirements (only respected with persistent volumes)",
                  "type": "integer",
                  "default": 5000
                },
                "pv": {
                  "description": "Whether persistent volumes should be used",
                  "type": "boolean",
                  "default": false 
                },
                "placement-strategy": {
                  "description": "Broker placement strategy. See documentation. [ANY, NODE]",
                  "type": "string",
                  "default": "ANY"
                },
                "plan-strategy": {
                  "description": "Broker placement strategy. See documentation. [INSTALL, STAGE]",
                  "type": "string",
                  "default": "INSTALL"
                }
            },
            "required": [
                "app",
                "framework-name",
                "user",
                "secret"
            ]
        }
    }
}
